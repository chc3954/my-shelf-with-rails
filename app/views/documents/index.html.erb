<div class="min-h-screen bg-slate-50 text-slate-800 font-sans" data-controller="search">
  <!-- Navbar -->
  <nav class="bg-white border-b border-slate-200 sticky top-0 z-10 px-6 py-3 flex justify-between items-center shadow-sm">
    <div class="flex items-center space-x-3">
      <div class="bg-indigo-600 p-2 rounded-lg text-slate-300">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-icon lucide-folder"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>
      </div>
      <span class="text-xl font-bold text-slate-800 tracking-tight">my-shelf</span>
      <span class="hidden sm:inline-block ml-4 bg-slate-100 text-slate-500 text-xs px-2 py-0.5 rounded-full border border-slate-200">
        <%= @documents.count %> files
      </span>
    </div>
    <div class="flex items-center space-x-4">
      <div class="hidden md:flex items-center bg-slate-100 rounded-lg px-3 py-1.5 border border-slate-200 focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-transparent transition-all">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search-icon lucide-search mr-2 text-slate-700"><path d="m21 21-4.34-4.34"/><circle cx="11" cy="11" r="8"/></svg>
        <input 
          type="text" 
          placeholder="Search files..." 
          class="bg-transparent border-none outline-none text-sm w-48 text-slate-700 placeholder-slate-400 focus:ring-0"
          data-search-target="input"
          data-action="input->search#filter"
        />
      </div>
      <%= button_to session_path, method: :delete, class: "flex items-center space-x-2 text-slate-500 hover:text-red-500 transition-colors text-sm font-medium px-3 py-1.5 rounded-lg hover:bg-red-50" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-out-icon lucide-log-out"><path d="m16 17 5-5-5-5"/><path d="M21 12H9"/><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/></svg>
        <span>Logout</span>
      <% end %>
    </div>
  </nav>
  <main class="max-w-7xl mx-auto p-6">
    <!-- Upload Area -->
    <%= form_with url: documents_path, multiple: true, data: { controller: "upload", action: "dragover->upload#dragOver dragleave->upload#dragLeave drop->upload#drop" } do |f| %>
      <%= f.file_field :files, multiple: true, class: "hidden", data: { upload_target: "input", action: "change->upload#upload" } %>
      <div 
        class="relative group rounded-2xl border-2 border-dashed border-slate-300 bg-white hover:border-indigo-400 hover:bg-slate-50 transition-all duration-300 ease-in-out p-10 text-center mb-8 cursor-pointer shadow-sm"
        data-upload-target="area"
        data-action="click->upload#triggerInput"
        >
        <div class="flex flex-col items-center justify-center space-y-4">
          <div class="p-4 rounded-full bg-slate-100 text-slate-400 group-hover:bg-indigo-50 group-hover:text-indigo-500 transition-colors duration-300 icon-bg">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-upload-icon lucide-cloud-upload mr"><path d="M12 13v8"/><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="m8 17 4-4 4 4"/></svg>
          </div>
          <div>
            <p class="text-lg font-medium text-slate-700 drag-text">Drag & Drop files here</p>
            <p class="text-sm text-slate-400 mt-1">or click to browse your computer</p>
          </div>
        </div>
      </div>
    <% end %>
    <!-- File Stats -->
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-lg font-semibold text-slate-800 flex items-center">
        Your Files
      </h2>
    </div>
    <!-- File Grid (Turbo Frame) -->
    <%= turbo_frame_tag "documents_list" do %>
      <% if @documents.empty? %>
        <div class="text-center py-20 bg-white rounded-2xl border border-slate-200 shadow-sm">
          <div class="bg-slate-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-icon lucide-folder"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg>
          </div>
          <h3 class="text-slate-600 font-medium">No files uploaded yet</h3>
          <p class="text-slate-400 text-sm mt-1">Upload files to safeguard them on my-shelf</p>
        </div>
      <% else %>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
          <% @documents.each do |document| %>
            <%= render document %>
          <% end %>
        </div>
      <% end %>
    <% end %>
  </main>
</div>